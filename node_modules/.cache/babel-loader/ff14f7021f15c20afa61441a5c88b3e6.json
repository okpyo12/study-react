{"ast":null,"code":"import { createStore } from \"redux\";\nconst form = document.querySelector(\"form\");\nconst input = document.querySelector(\"input\");\nconst ul = document.querySelector(\"ul\");\nconst ADD_TODO = \"ADD_TODO\";\nconst DELETE_TODO = \"DELETE_TODO\";\n\nconst addTODO = text => {\n  return {\n    type: ADD_TODO,\n    text\n  };\n};\n\nconst deleteToDo = id => {\n  return {\n    type: DELETE_TODO,\n    id\n  };\n};\n\nconst reducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  console.log(action);\n\n  switch (action.type) {\n    case ADD_TODO:\n      return [{\n        text: action.text,\n        id: Date.now()\n      }, ...state];\n\n    case DELETE_TODO:\n      return state.filter(toDo => toDo !== action.id);\n\n    default:\n      return state;\n  }\n};\n\nconst store = createStore(reducer);\n\nconst dispatchAddToDo = text => {\n  store.dispatch(addTODO(text));\n};\n\nconst dispatchDeleteToDo = e => {\n  const id = e.target.parentNode.id;\n  store.dispatch(deleteToDo(id));\n};\n\nconst paintToDos = () => {\n  const toDos = store.getState();\n  ul.innerHTML = \"\";\n  toDos.forEach(toDo => {\n    const li = document.createElement(\"li\");\n    const btn = document.createElement(\"button\");\n    btn.innerText = \"DEL\";\n    btn.addEventListener(\"click\", dispatchDeleteToDo);\n    li.id = toDo.id;\n    li.innerText = toDo.text;\n    li.appendChild(btn);\n    ul.appendChild(li);\n  });\n};\n\nstore.subscribe(paintToDos);\n\nconst onSubmit = e => {\n  e.preventDefault();\n  const toDo = input.value;\n  input.value = \"\";\n  dispatchAddToDo(toDo);\n};\n\nform.addEventListener(\"submit\", onSubmit);","map":{"version":3,"sources":["/Users/pyosangwoo/Documents/GitHub/study-redux/src/index.js"],"names":["createStore","form","document","querySelector","input","ul","ADD_TODO","DELETE_TODO","addTODO","text","type","deleteToDo","id","reducer","state","action","console","log","Date","now","filter","toDo","store","dispatchAddToDo","dispatch","dispatchDeleteToDo","e","target","parentNode","paintToDos","toDos","getState","innerHTML","forEach","li","createElement","btn","innerText","addEventListener","appendChild","subscribe","onSubmit","preventDefault","value"],"mappings":"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","sourcesContent":["import { createStore } from \"redux\";\nconst form = document.querySelector(\"form\");\nconst input = document.querySelector(\"input\");\nconst ul = document.querySelector(\"ul\");\n\nconst ADD_TODO = \"ADD_TODO\";\nconst DELETE_TODO = \"DELETE_TODO\";\n\nconst addTODO = (text) => {\n  return {\n    type: ADD_TODO,\n    text,\n  };\n};\n\nconst deleteToDo = (id) => {\n  return {\n    type: DELETE_TODO,\n    id,\n  };\n};\n\nconst reducer = (state = [], action) => {\n  console.log(action);\n  switch (action.type) {\n    case ADD_TODO:\n      return [{ text: action.text, id: Date.now() }, ...state];\n    case DELETE_TODO:\n      return state.filter((toDo) => toDo !== action.id);\n    default:\n      return state;\n  }\n};\n\nconst store = createStore(reducer);\n\nconst dispatchAddToDo = (text) => {\n  store.dispatch(addTODO(text));\n};\n\nconst dispatchDeleteToDo = (e) => {\n  const id = e.target.parentNode.id;\n  store.dispatch(deleteToDo(id));\n};\nconst paintToDos = () => {\n  const toDos = store.getState();\n  ul.innerHTML = \"\";\n  toDos.forEach((toDo) => {\n    const li = document.createElement(\"li\");\n    const btn = document.createElement(\"button\");\n    btn.innerText = \"DEL\";\n    btn.addEventListener(\"click\", dispatchDeleteToDo);\n    li.id = toDo.id;\n    li.innerText = toDo.text;\n    li.appendChild(btn);\n    ul.appendChild(li);\n  });\n};\n\nstore.subscribe(paintToDos);\n\nconst onSubmit = (e) => {\n  e.preventDefault();\n  const toDo = input.value;\n  input.value = \"\";\n  dispatchAddToDo(toDo);\n};\n\nform.addEventListener(\"submit\", onSubmit);\n"]},"metadata":{},"sourceType":"module"}